#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# # å¦‚æœæ˜¯é€šè¿‡ release.sh è„šæœ¬æ‰§è¡Œï¼Œè·³è¿‡åˆ†æ”¯ä¿æŠ¤æ£€æŸ¥
# if [ "$SKIP_BRANCH_CHECK" = "true" ]; then
#     echo "âœ“ æ£€æµ‹åˆ° release.sh è„šæœ¬æ‰§è¡Œï¼Œè·³è¿‡åˆ†æ”¯ä¿æŠ¤æ£€æŸ¥"
#     npm run test
#     exit $?
# fi

# # è·å–å½“å‰åˆ†æ”¯åç§°
# current_branch=$(git symbolic-ref HEAD | sed -e 's,.*/\(.*\),\1,')

# # æ£€æŸ¥æ˜¯å¦æ­£åœ¨æ¨é€åˆ° main æˆ– master åˆ†æ”¯
# protected_branches="^(main|master)$"

# if [[ "$current_branch" =~ $protected_branches ]]; then
#     echo "ğŸš« é”™è¯¯: ä¸å…è®¸ç›´æ¥ push åˆ° ${current_branch} åˆ†æ”¯ï¼"
#     echo "è¯·ä½¿ç”¨ Pull Request æµç¨‹ï¼š"
#     echo "  1. åˆ‡æ¢åˆ°å¼€å‘åˆ†æ”¯: git checkout dev"
#     echo "  2. æ¨é€åˆ°å¼€å‘åˆ†æ”¯: git push origin dev"
#     echo "  3. é€šè¿‡ PR åˆå¹¶åˆ° ${current_branch} åˆ†æ”¯"
#     echo ""
#     echo "å¦‚æœéœ€è¦å‘å¸ƒç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨: ./release.sh"
#     exit 1
# fi

npm run test





